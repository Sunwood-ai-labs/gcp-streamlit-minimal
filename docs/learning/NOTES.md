<div align="center">

# ğŸ“ å®Ÿè£…æ™‚ã®æ³¨æ„ç‚¹ã¨è§£èª¬

</div>

## ğŸ”§ 1. ç’°å¢ƒæ§‹ç¯‰æ™‚ã®æ³¨æ„ç‚¹

### ğŸŒ 1.1 GCPãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š
- ğŸ†” ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆIDã¯ä¸€æ„ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã€å¾Œã‹ã‚‰å¤‰æ›´ä¸å¯
- ğŸ‘¥ é©åˆ‡ãªIAMæ¨©é™ãŒå¿…è¦
  ```bash
  # å¿…è¦ãªæ¨©é™
  - Compute Admin
  - Security Admin
  - Service Account User
  ```

### âš™ï¸ 1.2 Terraformå®Ÿè¡Œç’°å¢ƒ
- ğŸ”„ ãƒãƒ¼ã‚¸ãƒ§ãƒ³äº’æ›æ€§ã«æ³¨æ„
  ```hcl
  # æ¨å¥¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¨­å®š
  terraform {
    required_version = ">= 1.0.0"
    required_providers {
      google = {
        source  = "hashicorp/google"
        version = "~> 4.0"
      }
    }
  }
  ```

### ğŸŒ 1.3 ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š
- ğŸ›¡ï¸ ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ãƒ«ãƒ¼ãƒ«ã¯æœ€å°æ¨©é™ã®åŸå‰‡ã«å¾“ã†
- ğŸš« ä¸è¦ãªãƒãƒ¼ãƒˆã¯é–‹æ”¾ã—ãªã„
- ğŸ”’ é€ä¿¡å…ƒIPã®åˆ¶é™ã‚’æ¤œè¨

## ğŸš€ 2. ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæ™‚ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### ğŸ’» 2.1 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹è¨­å®š
- ğŸ“‹ ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®æ´»ç”¨
  ```hcl
  metadata = {
    startup-script = file("startup.sh")
    shutdown-script = file("shutdown.sh")
  }
  ```

### âš¡ 2.2 ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- âš ï¸ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å®Ÿè£…
  ```bash
  set -e  # ã‚¨ãƒ©ãƒ¼æ™‚ã«å³åº§ã«çµ‚äº†
  set -x  # ãƒ‡ãƒãƒƒã‚°ç”¨ã«ã‚³ãƒãƒ³ãƒ‰ã‚’è¡¨ç¤º
  ```

- ğŸ“ ãƒ­ã‚°å‡ºåŠ›ã®è¿½åŠ 
  ```bash
  exec 1> >(logger -s -t $(basename $0)) 2>&1
  ```

### ğŸ“¦ 2.3 ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ—ãƒ­ã‚¤
- ğŸ“‹ ä¾å­˜é–¢ä¿‚ã®æ˜ç¢ºãªæŒ‡å®š
  ```bash
  pip3 install streamlit==1.24.0  # ãƒãƒ¼ã‚¸ãƒ§ãƒ³å›ºå®š
  ```

- ğŸ”‘ å®Ÿè¡Œæ¨©é™ã®ç¢ºèª
  ```bash
  chmod +x /path/to/script.sh
  ```

## ğŸ” 3. é‹ç”¨æ™‚ã®æ³¨æ„ç‚¹

### ğŸ“Š 3.1 ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°
- ğŸ“ˆ é‡è¦ãªãƒ¡ãƒˆãƒªã‚¯ã‚¹
  - CPUä½¿ç”¨ç‡
  - ãƒ¡ãƒ¢ãƒªä½¿ç”¨ç‡
  - ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨ç‡
  - ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯

### ğŸ’¾ 3.2 ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
- ğŸ“¸ å®šæœŸçš„ãªã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆä½œæˆ
  ```hcl
  resource "google_compute_snapshot" "snapshot" {
    name        = "snapshot-${formatdate("YYYY-MM-DD", timestamp())}"
    source_disk = google_compute_instance.streamlit.boot_disk[0].source
  }
  ```

### ğŸ”’ 3.3 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- ğŸ”„ å®šæœŸçš„ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
  ```bash
  apt-get update && apt-get upgrade -y
  ```

- ğŸ”‘ SSHã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™
  ```hcl
  metadata = {
    ssh-keys = "username:${file("~/.ssh/id_rsa.pub")}"
  }
  ```

## âš ï¸ 4. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ğŸ”§ 4.1 ä¸€èˆ¬çš„ãªå•é¡Œã¨è§£æ±ºç­–
1. ğŸš« ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹èµ·å‹•å¤±æ•—
   - ğŸ“ ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒ­ã‚°ã‚’ç¢ºèª
   - ğŸ”‘ IAMæ¨©é™ã®ç¢ºèª
   - ğŸ“Š ã‚¯ã‚©ãƒ¼ã‚¿åˆ¶é™ã®ç¢ºèª

2. âŒ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯
   - ğŸ›¡ï¸ ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ãƒ«ãƒ¼ãƒ«ã®ç¢ºèª
   - ğŸ”Œ ãƒãƒ¼ãƒˆé–‹æ”¾çŠ¶æ³ã®ç¢ºèª
   - ğŸ“ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚°ã®ç¢ºèª

### ğŸ” 4.2 ãƒ‡ãƒãƒƒã‚°æ–¹æ³•
- ğŸ“Ÿ ã‚·ãƒªã‚¢ãƒ«ãƒãƒ¼ãƒˆã®å‡ºåŠ›ç¢ºèª
  ```bash
  gcloud compute instances get-serial-port-output INSTANCE_NAME
  ```

- ğŸ”‘ SSHã§ã®ãƒ­ã‚°ã‚¤ãƒ³ç¢ºèª
  ```bash
  gcloud compute ssh INSTANCE_NAME
  ```

### ğŸ“ 4.3 ãƒ­ã‚°ç¢ºèª
- ğŸ“‹ Streamlitãƒ­ã‚°
  ```bash
  journalctl -u streamlit.service
  ```

- ğŸ“Š ã‚·ã‚¹ãƒ†ãƒ ãƒ­ã‚°
  ```bash
  tail -f /var/log/syslog
  ```

## âš¡ 5. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°

### ğŸ’» 5.1 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æœ€é©åŒ–
- ğŸ’¾ ãƒ‡ã‚£ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—ã®é¸æŠ
  ```hcl
  boot_disk {
    initialize_params {
      type = "pd-ssd"  # é«˜ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒå¿…è¦ãªå ´åˆ
    }
  }
  ```

### ğŸš€ 5.2 ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æœ€é©åŒ–
- ğŸ“¦ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æ´»ç”¨
  ```python
  @st.cache_data
  def load_data():
      return pd.read_csv("data.csv")
  ```

- ğŸ“Š ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®ç›£è¦–
  ```python
  import psutil
  st.write(f"Memory usage: {psutil.Process().memory_info().rss / 1024 / 1024:.2f} MB")
  ```

## ğŸ“ˆ 6. ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°è€ƒæ…®äº‹é …

### ğŸ” 6.1 å‚ç›´ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°
- ğŸ’» ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ—ã®å¤‰æ›´
  ```hcl
  machine_type = "e2-medium"  # ã‚ˆã‚Šå¤§ããªã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¸ã®å¤‰æ›´
  ```

### ğŸ”„ 6.2 æ°´å¹³ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°
- ğŸ“¦ ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚°ãƒ«ãƒ¼ãƒ—ã®åˆ©ç”¨
  ```hcl
  resource "google_compute_instance_group_manager" "streamlit" {
    name = "streamlit-group"
    base_instance_name = "streamlit"
    zone = "asia-northeast1-a"
    target_size = 2
  }
